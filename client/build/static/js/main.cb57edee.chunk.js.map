{"version":3,"sources":["components/Header/SideNav/sideNavItems.js","components/Header/SideNav/sideNav.js","components/Header/header.js","hoc/Layout/layout.js","actions/index.js","widgetsUI/bookItem/book_item.js","widgetsUI/Button/button.js","containers/home/home.js","components/Home/home.js","containers/book-view/bookView.js","components/Books/index.js","containers/Admin/login.js","containers/Admin/logout.js","hoc/auth.js","components/Admin/index.js","widgetsUI/Form/form-components/formField/formField.js","widgetsUI/Form/Form.js","containers/Admin/addBook.js","components/Admin/userPosts.js","containers/Admin/editBook.js","containers/Admin/registration.js","containers/Admin/addNewUser.js","routes.js","reducers/index.js","reducers/book_reducer.js","reducers/user_reducers.js","index.js"],"names":["connect","state","user","props","element","item","i","react_default","a","createElement","es","to","link","key","className","type","react_fontawesome_lib_default","name","icon","text","login","navItems","map","isAuth","exclude","restricted","Navigation","simple_sidenav_default","showNav","onHideNav","navStyle","background","maxWidth","SideNav_sideNavItems","sideNavItems","Header","toggleNavigation","_this","setState","style","color","padding","cursor","onClick","this","sideNav","Component","Layout","header","children","getBooks","limit","arguments","length","undefined","start","order","list","payload","axios","get","concat","then","response","Object","toConsumableArray","data","getAllUserPosts","ownerId","request","console","log","deleteBook","id","delete","loginUser","_ref3","email","password","post","getAllUsers","registerUser","userList","dispatch","_ref4","users","success","BookItem","_id","author","price","pages","rating","Button","onclickFunc","buttonText","HomeContainer","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","renderItems","books","book_item","assign","loadMore","count","Button_button","Home","home","BookViewContainer","renderBook","book","authors","reviewer","lastname","reviews","_ref","_ref2","getBookWithReviewer","BookView","bookView","match","params","Login","error","submitForm","e","preventDefault","onChange","target","value","nextProps","history","push","action","onSubmit","placeholder","message","Logout","propsFrom","setTimeout","date","hoc_auth","ComposedClass","reload","AuthenticationCheck","_Component","loading","inherits","createClass","User","src","alt","formField","renderField","formData","inputValue","label","htmlFor","labelText","validation","required","marginLeft","config","event","changeHandler","onBlur","validationMessageTemplate","checkBeforeSendingInputValues","_this$state","valid","existingInputValue","inputName","takeDataFromInputs","isDataLoaded","blur","_this$state2","inputValidation","touched","_this$state3","validationMessage","checkTypeOfValidation","defaultRegex","customRegex","regexTemplate","checkingInputForValid","regMessageCheck","test","undefinedRegexTemplate","RegExp","source","toString","prevState","Form","isValid","formFieldWithNoValidation","arraysOfField","renderFields","template","keys","field","inputData","form_components_formField_formField","checkBeforeSubmit","validData","hasOwnProperty","obj","errorMessage","submitFormFunction","buttonConfig","submitButtonConfig","clearForm","formCaption","attr","marginTop","cols","rows","AddBook","isSubmited","redirectToNewBook","bookId","addNewBook","objectSpread","_this2","marginBottom","widgetsUI_Form_Form","newbook","UserPosts","postDelete","itemId","showUserPosts","userPosts","moment","createdAt","format","textAlign","postDeleted","updatedBook","EditBook","transformBookToForm","formDataWithValues","deleteReview","redirectUser","updateBook","isData","width","margin","Registration","register","AddNewUser","tableOfUsersRender","userDelete","userId","registerStatusCheck","registration","propsUsers","Routes","layout","path","exact","component","Auth","rootReducer","combineReducers","deleted","createrStoreWithMiddleware","applyMiddleware","promiseMiddleware","ReduxThunk","createStore","ReactDOM","render","react_redux_es","store","Reducers","routes","document","getElementById"],"mappings":"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","file":"static/js/main.cb57edee.chunk.js","sourcesContent":["import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport FontAwesome from \"react-fontawesome\";\nimport { connect } from \"react-redux\";\n\nconst sideNavItems = props => {\n  const element = (item, i) => (\n    <Link to={item.link} key={i} className={item.type}>\n      <FontAwesome name={item.icon} />\n      {item.text}{\" \"}\n    </Link>\n  );\n  const renderItems = () => {\n    return props.user.login\n      ? props.navItems.map((item, i) => {\n          if (props.user.login.isAuth) {\n            return !item.exclude ? element(item, i) : null;\n          } else {\n            return !item.restricted ? element(item, i) : null;\n          }\n        })\n      : null;\n  };\n\n  return renderItems();\n};\n\nfunction mapStateToProps(state) {\n  return {\n    user: state.user\n  };\n}\n\nexport default connect(mapStateToProps)(sideNavItems);\n","import React from \"react\";\nimport SideNav from \"react-simple-sidenav\";\n\n// COMPONENTS\nimport SideNavItems from \"./sideNavItems.js\";\n\nconst Navigation = props => {\n  return (\n    <SideNav\n      showNav={props.showNav}\n      onHideNav={props.onHideNav}\n      navStyle={{\n        background: \"#242424\",\n        maxWidth: \"220px\"\n      }}\n    >\n      <SideNavItems navItems={props.sideNavItems} />\n    </SideNav>\n  );\n};\n\nexport default Navigation;\n","import React, { Component } from \"react\";\nimport FontAwesome from \"react-fontawesome\";\nimport { Link } from \"react-router-dom\";\n\n// COMPONENTS\nimport Navigation from \"./SideNav/sideNav\";\n\nconst sideNavItems = [\n  {\n    type: \"navItem\",\n    text: \"Home\",\n    icon: \"home\",\n    link: \"/\",\n    restricted: false\n  },\n  {\n    type: \"navItem\",\n    text: \"My Profile\",\n    icon: \"user\",\n    link: \"/user\",\n    restricted: true\n  },\n  {\n    type: \"navItem\",\n    text: \"Add Admins\",\n    icon: \"plus\",\n    link: \"/user/register\",\n    restricted: true\n  },\n  {\n    type: \"navItem\",\n    text: \"Login\",\n    icon: \"sign-in\",\n    link: \"/login\",\n    restricted: false,\n    exclude: true\n  },\n  {\n    type: \"navItem\",\n    text: \"My reviews\",\n    icon: \"comments\",\n    link: \"/user/user-reviews\",\n    restricted: true\n  },\n  {\n    type: \"navItem\",\n    text: \"Add a review\",\n    icon: \"plus\",\n    link: \"/user/add\",\n    restricted: true\n  },\n  {\n    type: \"navItem\",\n    text: \"Registration\",\n    icon: \"plus\",\n    link: \"/registration\",\n    restricted: false,\n    exclude: true\n  },\n  {\n    type: \"navItem\",\n    text: \"Logout\",\n    icon: \"sign-out\",\n    link: \"/user/logout\",\n    restricted: true\n  }\n];\n\nclass Header extends Component {\n  state = {\n    showNav: false\n  };\n\n  toggleNavigation = () => {\n    this.setState({\n      showNav: true\n    });\n  };\n\n  onHideNav = () => {\n    this.setState({ showNav: false });\n  };\n\n  render() {\n    return (\n      <header>\n        <div className=\"open_nav\">\n          <FontAwesome\n            name=\"bars\"\n            style={{\n              color: \"#ffffff\",\n              padding: \"10px\",\n              cursor: \"pointer\"\n            }}\n            onClick={this.toggleNavigation}\n          />\n        </div>\n\n        <Navigation\n          showNav={this.state.showNav}\n          onHideNav={this.onHideNav}\n          sideNavItems={sideNavItems}\n        />\n\n        <Link to=\"/\" className=\"logo\">\n          The Book Shelf\n        </Link>\n      </header>\n    );\n  }\n}\n\nexport default Header;\n","import React from 'react';\n\n// COMPONENTS\nimport Header from '../../components/Header/header'\n\n\nconst Layout = (props) => {\n    return (\n        <div>\n            <Header/>\n            {props.children}            \n        </div>\n    );\n};\n\nexport default Layout;","import axios from \"axios\";\n\n// BOOKS\n\nexport function getBooks(limit = 10, start = 0, order = \"asc\", list = \"\") {\n  const request = axios\n    .get(`/books?limit=${limit}&skip=${start}&order=${order}`)\n    .then(response => {\n      if (list) {\n        return [...list, ...response.data];\n      } else {\n        return response.data;\n      }\n    });\n\n  return {\n    type: \"GET_BOOKS\",\n    payload: request\n  };\n}\n\nexport function getBookWithReviewer(id) {\n  const request = axios.get(`/getBook?id=${id}`);\n\n  return dispatch => {\n    request.then(({ data }) => {\n      let book = data;\n\n      axios.get(`/getReviewer?id=${book.ownerId}`).then(({ data }) => {\n        let response = {\n          book,\n          reviewer: data\n        };\n\n        dispatch({\n          type: \"GET_BOOK_WITH_REVIEWER\",\n          payload: response\n        });\n      });\n    });\n  };\n}\n\nexport function clearBoxWithReviewer() {\n  return {\n    type: \"CLEAR_BOOK_W_R\",\n    payload: {\n      book: {},\n      reviewer: {}\n    }\n  };\n}\n\nexport function getBook(bookId) {\n  const request = axios\n    .get(`/getBook?id=${bookId}`)\n    .then(response => response.data);\n\n  return {\n    type: \"GET_BOOK\",\n    payload: request\n  };\n}\n\nexport function getAllUserPosts(ownerId) {\n  const request = axios\n    .get(`/user_posts?user=${ownerId}`)\n    .then(response => response.data);\n  console.log(request);\n  return {\n    type: \"USER_BOOKS\",\n    payload: request\n  };\n}\n\nexport function addNewBook(book) {\n  const request = axios.post(\"/book\", book).then(response => response.data);\n\n  return {\n    type: \"CREATE_N_BOOK\",\n    payload: request\n  };\n}\n\nexport function updateBook(data) {\n  const request = axios\n    .post(\"/book_update\", data)\n    .then(response => response.data);\n\n  return {\n    type: \"UPDATE_BOOK\",\n    payload: request\n  };\n}\n\nexport function deleteBook(id) {\n  const request = axios\n    .delete(`/book_delete?id=${id}`)\n    .then(response => response.data);\n\n  return {\n    type: \"DELETE_BOOK\",\n    payload: request\n  };\n}\n\nexport function removeNewBook() {\n  return {\n    type: \"REMOVE_N_BOOK_FROM_PROPS\",\n    payload: {}\n  };\n}\n\nexport function clearStoreWithDeletedPost() {\n  return {\n    type: \"CLEAR_STORE_WITH_DELETED_POST\",\n    payload: {\n      postDeleted: false,\n      updatedBook: false,\n      book: null\n    }\n  };\n}\n\n// USER\n\nexport function loginUser({ email, password }) {\n  const request = axios\n    .post(\"/login\", { email, password })\n    .then(response => response.data);\n\n  return {\n    type: \"USER_LOGIN\",\n    payload: request\n  };\n}\n\nexport function auth() {\n  const request = axios.get(\"/auth\").then(response => response.data);\n\n  return {\n    type: \"USER_AUTH\",\n    payload: request\n  };\n}\n\nexport function logoutUser(propsFrom) {\n  const request = axios.get(\"/logout\").then(response => {\n    setTimeout(() => {\n      propsFrom.history.push(\"/\");\n    }, 2000);\n    return response.date;\n  });\n\n  return {\n    type: \"USER_LOGOUT\",\n    payload: request\n  };\n}\n\nexport function getAllUsers() {\n  const request = axios.get(\"/users\").then(response => response.data);\n\n  return {\n    type: \"GET_ALL_USERS\",\n    payload: request\n  };\n}\n\nexport function registerUser(data, userList) {\n  if (userList) {\n    const request = axios.post(\"/register\", data);\n    return dispatch => {\n      request.then(({ data }) => {\n        let users = data.success ? [...userList, data.user] : userList;\n        let response = {\n          success: data.success,\n          users\n        };\n        dispatch({\n          type: \"ADD_NEW_USER\",\n          payload: response\n        });\n      });\n    };\n  } else {\n    const request = axios\n      .post(\"/register\", data)\n      .then(response => response.data);\n\n    return {\n      type: \"USER_REGISTER\",\n      payload: request\n    };\n  }\n}\n\nexport function deleteUser(id) {\n  console.log(id);\n  const request = axios\n    .delete(\"/user_delete\", { data: { id } })\n    .then(response => response.data);\n\n  return {\n    type: \"USER_DELETE\",\n    payload: request\n  };\n}\n//\n","import React from 'react';\nimport { Link } from 'react-router-dom';\n\nconst BookItem = (item) => {\n    return (\n        <Link to={`/books/${item._id}`} className='book_item'>\n            <div className=\"book_header\">\n                <h2>{item.name}</h2>\n            </div>\n            <div className=\"book_items\">\n                <div className=\"book_author\">\n                    {item.author}\n                </div>\n                <div className=\"book_bubble\">\n                    <strong>Price</strong> ${item.price}\n                </div>\n                <div className=\"book_bubble\">\n                    <strong>Pages</strong> {item.pages}\n                </div>\n                <div className=\"book_bubble rating\">\n                    <strong>Rating</strong> {item.rating}\n                </div>\n            </div>\n        </Link>\n    );\n};\n\nexport default BookItem;","import React from 'react';\n\nconst Button = (props) => {\n    return (\n        <div className='button loadmore' onClick={props.onclickFunc}>\n            {props.buttonText}\n        </div>\n    );\n};\n\nexport default Button;","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\n\n// COMPONENTS\nimport { getBooks } from \"../../actions\";\nimport BookItem from \"../../widgetsUI/bookItem/book_item\";\nimport Button from \"../../widgetsUI/Button/button\";\n\nclass HomeContainer extends Component {\n  constructor(props) {\n    super(props);\n    this.props.dispatch(getBooks(1, 0, \"asc\"));\n  }\n\n  renderItems = books =>\n    books.list\n      ? books.list.map((item, i) => <BookItem key={i} {...item} />)\n      : null;\n\n  loadMore = () => {\n    let count = this.props.books.list.length;\n    this.props.dispatch(getBooks(1, count, \"asc\", this.props.books.list));\n  };\n\n  render() {\n    console.log(this.props.books);\n    return (\n      <div>\n        {this.props.books.list ? this.renderItems(this.props.books) : null}\n        <Button onclickFunc={this.loadMore} buttonText=\"loadmore\" />\n      </div>\n    );\n  }\n}\n\nfunction mapStateToProps(state) {\n  return {\n    books: state.books\n  };\n}\n\nexport default connect(mapStateToProps)(HomeContainer);\n","import React from \"react\";\n\n// COMPONENTS\nimport HomeContainer from \"../../containers/home/home\";\n\nconst Home = () => {\n  return (\n    <div>\n      <HomeContainer />\n    </div>\n  );\n};\n\nexport default Home;\n","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\n\n// COMPONENTS\nimport { getBookWithReviewer, clearBoxWithReviewer } from \"../../actions/index\";\n\nclass BookViewContainer extends Component {\n  constructor(props) {\n    super(props);\n    this.props.dispatch(getBookWithReviewer(this.props.id));\n  }\n\n  componentWillUnmount() {\n    this.props.dispatch(clearBoxWithReviewer());\n  }\n\n  renderBook = books =>\n    books.book ? (\n      <div className=\"br_container\">\n        <div className=\"br_header\">\n          <h2>{books.book.name}</h2>\n          <h5>{books.book.authors}</h5>\n          <div className=\"br_reviewer\">\n            <span>Review by:</span> {books.reviewer.name}{\" \"}\n            {books.reviewer.lastname}\n          </div>\n        </div>\n        <div className=\"br_review\">{books.book.reviews}</div>\n        <div className=\"br_box\">\n          <div className=\"left\">\n            <div>\n              <span>Pages:</span> {books.book.pages}\n            </div>\n            <div>\n              <span>Price:</span> ${books.book.price}\n            </div>\n          </div>\n          <div className=\"right\">\n            <span>Rating</span>\n            <div>{books.book.rating}/5 </div>\n          </div>\n        </div>\n      </div>\n    ) : null;\n\n  render() {\n    let books = this.props.books;\n\n    return <div>{this.renderBook(books)}</div>;\n  }\n}\n\nfunction mapStateToProps(state) {\n  return {\n    books: state.books\n  };\n}\n\nexport default connect(mapStateToProps)(BookViewContainer);\n","import React from \"react\";\n\n// COMPONENTS\n\nimport BookViewContainer from \"../../containers/book-view/bookView\";\n\nconst BookView = props => {\n  return (\n    <div>\n      <BookViewContainer id={props.match.params.id} />\n    </div>\n  );\n};\n\nexport default BookView;\n","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { loginUser } from \"../../actions\";\n\nclass Login extends Component {\n  state = {\n    email: \"\",\n    password: \"\",\n    error: \"\",\n    success: \"\"\n  };\n\n  componentWillReceiveProps(nextProps) {\n    if (nextProps.user.login.isAuth) {\n      this.props.history.push(\"/user\");\n    }\n  }\n  submitForm = e => {\n    e.preventDefault();\n    this.props.dispatch(loginUser(this.state));\n  };\n\n  onChange = e => {\n    if (e.target.type === \"email\") {\n      this.setState({\n        email: e.target.value\n      });\n    } else if (e.target.type === \"password\") {\n      this.setState({\n        password: e.target.value\n      });\n    }\n  };\n\n  render() {\n    const user = this.props.user;\n    return (\n      <div className=\"rl_container\">\n        <form action=\"\" onSubmit={this.submitForm}>\n          <h2>Log in here</h2>\n\n          <div className=\"form_element\">\n            <input\n              type=\"email\"\n              placeholder=\"Enter your mail\"\n              value={this.state.email}\n              onChange={this.onChange}\n            />\n          </div>\n\n          <div className=\"form_element\">\n            <input\n              type=\"password\"\n              placeholder=\"Enter your password\"\n              value={this.state.password}\n              onChange={this.onChange}\n            />\n          </div>\n\n          <button type=\"submit\"> Log in </button>\n          <div className=\"error\">\n            {user.login ? <div>{user.login.message}</div> : null}\n          </div>\n        </form>\n      </div>\n    );\n  }\n}\n\nfunction mapStateToProps(state) {\n  return {\n    user: state.user\n  };\n}\n\nexport default connect(mapStateToProps)(Login);\n","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\n\nimport { logoutUser } from \"../../actions/index\";\n\nclass Logout extends Component {\n  constructor(props) {\n    super(props);\n    this.props.dispatch(logoutUser(props));\n  }\n  render() {\n    return (\n      <div className=\"logout_container\">\n        <h1>Sorry to see you go...</h1>\n      </div>\n    );\n  }\n}\n\nfunction mapStateToProps(state) {\n  return {\n    user: state.user\n  };\n}\n\nexport default connect(mapStateToProps)(Logout);\n","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { auth } from \"../actions\";\n\nexport default function(ComposedClass, reload) {\n  class AuthenticationCheck extends Component {\n    constructor(props) {\n      super(props);\n      this.props.dispatch(auth());\n      this.state = {\n        loading: true\n      };\n    }\n\n    componentWillReceiveProps(nextProps) {\n      this.setState({\n        loading: false\n      });\n\n      if (!nextProps.user.login.isAuth) {\n        if (reload) this.props.history.push(\"/login\");\n      } else {\n        if (reload === false) this.props.history.push(\"/user\");\n      }\n    }\n    render() {\n      if (this.state.loading) {\n        return <div className=\"loader\">Loading...</div>;\n      }\n      return <ComposedClass {...this.props} user={this.props.user} />;\n    }\n  }\n\n  function mapStateToProps(state) {\n    return {\n      user: state.user\n    };\n  }\n\n  return connect(mapStateToProps)(AuthenticationCheck);\n}\n","import React from \"react\";\n\nconst User = props => {\n  let user = props.user.login;\n  return (\n    <div className=\"user_container\">\n      <div className=\"avatar\">\n        <img src=\"/images/avatar.png\" alt=\"avatar\" />\n      </div>\n      <div className=\"nfo\">\n        <div>\n          <span>Name:</span> {user.name}\n        </div>\n        <div>\n          <span>Lastname:</span> {user.lastname}\n        </div>\n        <div>\n          <span>Email:</span> {user.email}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default User;\n","import React, { Component } from \"react\";\n\nclass formField extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      inputValue: \"\",\n      existingInputValue: \"\",\n      valid: false,\n      touched: false,\n      isDataLoaded: false\n    };\n    this.checkBeforeSendingInputValues();\n  }\n\n  renderField = () => {\n    const { formData } = this.props;\n    const { inputValue } = this.state;\n    switch (formData.element) {\n      case \"input\":\n        return (\n          <div className=\"form__field\">\n            {formData.label ? (\n              <label htmlFor=\"\">\n                {formData.labelText}\n                {formData.validation.required ? (\n                  <span style={{ color: \"red\", marginLeft: \"3px\" }}>*</span>\n                ) : null}\n              </label>\n            ) : null}{\" \"}\n            <input\n              type={formData.config.type ? null : \"text\"}\n              onChange={event => this.changeHandler(event, false)}\n              value={inputValue}\n              onBlur={event => this.changeHandler(event, true)}\n              {...formData.config}\n            />\n            {this.validationMessageTemplate()}\n          </div>\n        );\n      case \"textArea\":\n        return (\n          <div className=\"form__field\">\n            {formData.label ? (\n              <label htmlFor=\"\">\n                {formData.labelText}\n                {formData.validation.required ? (\n                  <span style={{ color: \"red\", marginLeft: \"3px\" }}>*</span>\n                ) : null}\n              </label>\n            ) : null}\n            <textarea\n              type={formData.config.type ? null : \"text\"}\n              onChange={event => this.changeHandler(event, false)}\n              value={inputValue}\n              onBlur={event => this.changeHandler(event, true)}\n              {...formData.config}\n            />\n\n            {this.validationMessageTemplate()}\n          </div>\n        );\n      default:\n        return null;\n    }\n  };\n\n  componentDidUpdate() {\n    if (this.state.isDataLoaded) {\n      this.checkBeforeSendingInputValues();\n    }\n  }\n\n  checkBeforeSendingInputValues = () => {\n    const { valid, inputValue, existingInputValue } = this.state;\n    const inputName = this.props.formData.config.name;\n    if (this.props.formData) {\n      if (this.props.formData.value) {\n        this.props.takeDataFromInputs(true, existingInputValue, inputName);\n        this.setState({\n          isDataLoaded: false\n        });\n      }\n    } else {\n      this.props.takeDataFromInputs(valid, inputValue, inputName);\n    }\n  };\n\n  static getDerivedStateFromProps(nextProps, prevState) {\n    if (nextProps.formData.value !== prevState.existingInputValue) {\n      const value = nextProps.formData.value;\n\n      return {\n        existingInputValue: value,\n        inputValue: value,\n        isDataLoaded: true\n      };\n    } else {\n      return null;\n    }\n  }\n\n  changeHandler = (event, blur) => {\n    const { inputValue, valid } = this.state;\n\n    this.inputValidation(event.target.value);\n    const { name } = this.props.formData.config;\n    this.setState({\n      inputValue: event.target.value,\n      touched: blur\n    });\n\n    this.props.takeDataFromInputs(valid, inputValue, name);\n  };\n\n  validationMessageTemplate = () => {\n    const { valid, touched, inputValue } = this.state;\n    const validationMessage = this.props.formData.validationMessage;\n    let validationMessageTemplate = null;\n    if (touched) {\n      if (!valid) {\n        if (inputValue) {\n          validationMessageTemplate = (\n            <span className=\"form__invalid--message\">{validationMessage}</span>\n          );\n        } else {\n          validationMessageTemplate = (\n            <span className=\"form__invalid--message\">Field is required</span>\n          );\n        }\n      }\n    }\n    return validationMessageTemplate;\n  };\n\n  checkTypeOfValidation = type => {\n    let defaultRegex;\n    switch (type) {\n      case \"number\":\n        defaultRegex = /^\\d+$/;\n        break;\n      case \"text\":\n        defaultRegex = /[a-z0-9 ]$/i;\n        break;\n      case \"name\":\n        defaultRegex = /[a-z ]+$/i;\n        break;\n      case \"email\":\n        defaultRegex = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n        break;\n      case \"password\":\n        defaultRegex = /[a-z0-9 ]$/i;\n        break;\n      default:\n        break;\n    }\n    return defaultRegex;\n  };\n\n  inputValidation = inputValue => {\n    const { validation } = this.props.formData;\n\n    let defaultRegex;\n    let customRegex = validation.regexTemplate;\n    if (validation.required) {\n      if (inputValue) {\n        defaultRegex = this.checkTypeOfValidation(validation.type);\n      }\n      this.checkingInputForValid(defaultRegex, customRegex, inputValue);\n    }\n  };\n\n  checkingInputForValid = (defaultRegex, customRegex, inputValue) => {\n    if (inputValue) {\n      if (this.regMessageCheck(customRegex)) {\n        if (defaultRegex.test(inputValue) && customRegex.test(inputValue)) {\n          this.setState({\n            valid: true\n          });\n        } else {\n          this.setState({\n            valid: false\n          });\n        }\n      } else {\n        if (defaultRegex.test(inputValue)) {\n          this.setState({\n            valid: true\n          });\n        } else {\n          this.setState({\n            valid: false\n          });\n        }\n      }\n    } else {\n      this.setState({\n        valid: false\n      });\n    }\n  };\n\n  regMessageCheck = customRegex => {\n    const undefinedRegexTemplate = /(?:)/; //UNDEFINED REGEX SABLONE\n    let isRegexValid;\n    customRegex =\n      !customRegex || customRegex === \"\"\n        ? undefinedRegexTemplate\n        : new RegExp(customRegex.source);\n    // COMPARE UNDEFINED AND USER REGEX\n\n    if (customRegex.toString() === undefinedRegexTemplate.toString()) {\n      console.log(\"Regex expression is not valid\");\n      isRegexValid = false;\n    }\n    if (customRegex.toString() !== undefinedRegexTemplate.toString()) {\n      isRegexValid = true;\n    } else {\n      isRegexValid = false;\n    }\n    return isRegexValid;\n  };\n\n  render() {\n    return this.renderField();\n  }\n}\n\nexport default formField;\n","import React, { Component } from \"react\";\n\nimport FormField from \"./form-components/formField/formField\";\n\nimport \"./form.sass\";\n\nclass Form extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      formFieldWithNoValidation: {},\n      errorMessage: false\n    };\n  }\n\n  takeDataFromInputs = (isValid, inputValue, inputName) => {\n    const { formFieldWithNoValidation } = this.state;\n    let arraysOfField = formFieldWithNoValidation;\n\n    if (formFieldWithNoValidation[inputName]) {\n      arraysOfField[inputName] = {\n        isValid,\n        inputValue\n      };\n      this.setState({\n        formFieldWithNoValidation: arraysOfField\n      });\n    }\n\n    arraysOfField[inputName] = {\n      isValid,\n      inputValue\n    };\n    this.setState({\n      formFieldWithNoValidation: arraysOfField\n    });\n  };\n\n  renderFields = () => {\n    let template = [];\n    const formData = this.props.formData;\n    if (Object.keys(formData).length) {\n      for (let field in formData) {\n        const inputData = formData[field];\n        template.push(\n          <FormField\n            takeDataFromInputs={(isValid, inputValue, inputName) =>\n              this.takeDataFromInputs(isValid, inputValue, inputName)\n            }\n            key={field}\n            formData={inputData}\n          />\n        );\n      }\n    }\n    return template;\n  };\n\n  checkBeforeSubmit = () => {\n    const { formFieldWithNoValidation } = this.state;\n    let validData = {};\n\n    if (Object.keys(formFieldWithNoValidation).length) {\n      for (let field in formFieldWithNoValidation) {\n        if (!formFieldWithNoValidation.hasOwnProperty(field)) continue;\n        let obj = formFieldWithNoValidation[field];\n\n        if (!obj.isValid) {\n          break;\n        } else {\n          validData[field] = obj.inputValue;\n        }\n      }\n    }\n\n    if (\n      Object.keys(validData).length ===\n      Object.keys(formFieldWithNoValidation).length\n    ) {\n      return validData;\n    } else {\n      return null;\n    }\n  };\n\n  submitForm = e => {\n    e.preventDefault();\n    this.setState({\n      errorMessage: \"\"\n    });\n    const data = this.checkBeforeSubmit();\n    if (data !== null) {\n      if (Object.keys(data).length) {\n        this.props.submitFormFunction(data);\n      } else {\n        this.setState({\n          errorMessage: \"You should fill all requierd fields\"\n        });\n      }\n    } else {\n      this.setState({\n        errorMessage: \"One of the fields is not correct\"\n      });\n    }\n  };\n\n  render() {\n    const buttonConfig = this.props.submitButtonConfig;\n    const { errorMessage, clearForm } = this.state;\n    return (\n      <div className=\"form\">\n        {this.props.formCaption}\n        {this.renderFields()}\n\n        <button type=\"submit\" onClick={this.submitForm} {...buttonConfig.attr}>\n          {buttonConfig.text}\n        </button>\n        {errorMessage ? (\n          <div style={{ marginTop: \"10px\", color: \"red\" }}>{errorMessage}</div>\n        ) : null}\n      </div>\n    );\n  }\n}\n\nexport default Form;\n","import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\n\nimport Form from \"../../widgetsUI/Form/Form\";\nimport { addNewBook, removeNewBook } from \"../../actions/index\";\nimport { connect } from \"react-redux\";\n\nconst formData = {\n  name: {\n    element: \"input\",\n    value: \"\",\n    label: true,\n    labelText: \"Name\",\n    config: {\n      name: \"name\",\n      placeholder: \"Enter your name\"\n    },\n    validation: {\n      required: true,\n      type: \"name\",\n      regexTemplate: \"a\"\n    },\n    valid: false,\n    validationMessage: \"\"\n  },\n  authors: {\n    element: \"input\",\n    value: \"\",\n    label: true,\n    labelText: \"Authors\",\n    config: {\n      name: \"authors\",\n      placeholder: \"Enter authors\"\n    },\n    validation: {\n      required: true,\n      type: \"name\",\n      regexTemplate: \"a\"\n    },\n    valid: false,\n    validationMessage: \"Authors field is not correct\"\n  },\n  rating: {\n    element: \"input\",\n    value: \"\",\n    label: true,\n    labelText: \"Rating\",\n    config: {\n      name: \"rating\",\n      placeholder: \"Rate this book by number\"\n    },\n    validation: {\n      required: true,\n      type: \"number\",\n      regexTemplate: \"a\"\n    },\n    valid: false,\n    validationMessage: \"Must be a number\"\n  },\n  price: {\n    element: \"input\",\n    value: \"\",\n    label: true,\n    labelText: \"Price\",\n    config: {\n      name: \"price\",\n      placeholder: \"Enter the price of book\"\n    },\n    validation: {\n      required: true,\n      type: \"number\",\n      regexTemplate: \"\"\n    },\n    valid: false,\n    validationMessage: \"Must be a number\"\n  },\n  pages: {\n    element: \"input\",\n    value: \"\",\n    label: true,\n    labelText: \"Books pages\",\n    config: {\n      name: \"pages\",\n      placeholder: \"Enter number of pages\"\n    },\n    validation: {\n      required: true,\n      type: \"number\",\n      regexTemplate: \"a\"\n    },\n    valid: false,\n    validationMessage: \"Must be a number\"\n  },\n  reviews: {\n    element: \"textArea\",\n    value: \"\",\n    label: true,\n    labelText: \"Review\",\n    config: {\n      name: \"reviews\",\n      cols: 10,\n      rows: 4,\n      placeholder: \"Enter review for this book\"\n    },\n    validation: {\n      required: true,\n      type: \"text\",\n      regexTemplate: /[a-z]{3}/\n    },\n    valid: false,\n    validationMessage: \"Review is not correct\"\n  }\n};\n\nconst buttonConfig = {\n  text: \"submit\",\n  attr: {\n    className: \"button\",\n    type: \"Add review\"\n  }\n};\n\nclass AddBook extends Component {\n  state = {\n    formData: {\n      name: \"\",\n      authors: \"\",\n      rating: \"\"\n    },\n    isSubmited: false\n  };\n\n  redirectToNewBook = book =>\n    book.post ? (\n      <div className=\"conf_link\">\n        Cool!!!\n        <Link to={`/books/${book.bookId}`}>Click here to see the new book</Link>\n      </div>\n    ) : null;\n\n  submitForm = book => {\n    const id = this.props.user.login.id;\n\n    this.props.dispatch(\n      addNewBook({\n        ...book,\n        ownerId: id\n      })\n    );\n    this.setState({\n      isSubmited: true\n    });\n  };\n\n  componentWillUnmount() {\n    this.props.dispatch(removeNewBook());\n  }\n  render() {\n    return (\n      <div className=\"rl_container article\" style={{ marginBottom: \"40px\" }}>\n        <Form\n          formData={formData}\n          submitButtonConfig={buttonConfig}\n          formCaption={<h2>Add a review</h2>}\n          submitFormFunction={book => this.submitForm(book)}\n        />\n        {this.props.books.newbook\n          ? this.redirectToNewBook(this.props.books.newbook)\n          : null}\n      </div>\n    );\n  }\n}\n\nfunction mapStateToProps(state) {\n  console.log(state);\n  return {\n    books: state.books\n  };\n}\n\nexport default connect(mapStateToProps)(AddBook);\n","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport {\n  getAllUserPosts,\n  deleteBook,\n  clearStoreWithDeletedPost\n} from \"../../actions\";\nimport moment from \"moment-js\";\nimport FontAwesome from \"react-fontawesome\";\nimport { Link } from \"react-router-dom\";\n\nclass UserPosts extends Component {\n  constructor(props) {\n    super(props);\n    this.state = { postDeleted: false };\n    this.props.dispatch(getAllUserPosts(this.props.user.login.id));\n  }\n\n  postDelete = itemId => {\n    this.props.dispatch(deleteBook(itemId));\n    this.props.dispatch(getAllUserPosts(this.props.user.login.id));\n  };\n\n  componentWillUnmount() {\n    this.props.dispatch(clearStoreWithDeletedPost());\n  }\n\n  showUserPosts = userPosts =>\n    userPosts.books\n      ? userPosts.books.map(item => (\n          <tr key={item._id}>\n            <td>{item.name}</td>\n            <td>{item.authors}</td>\n            <td>{moment(item.createdAt).format(\"MM/DD/YY\")}</td>\n            <td style={{ textAlign: \"center\" }}>\n              <Link to={`/user/edit-post/${item._id}`}>\n                <FontAwesome name=\"edit\" />\n              </Link>\n\n              <button\n                className=\"button\"\n                style={{\n                  cursor: \"pointer\",\n                  textAlign: \"center\",\n                  marginLeft: \"20px\"\n                }}\n                onClick={() => this.postDelete(item._id)}\n              >\n                <FontAwesome name=\"remove\" />\n              </button>\n            </td>\n          </tr>\n        ))\n      : null;\n\n  render() {\n    const userPosts = this.props.books;\n    console.log(userPosts);\n    return (\n      <div className=\"user_posts\">\n        <h4>Your reviews</h4>\n        <table>\n          <thead>\n            <tr>\n              <th>Name</th>\n              <th>Author</th>\n              <th>Date</th>\n              <th>Actions</th>\n            </tr>\n          </thead>\n          <tbody>{this.showUserPosts(userPosts)}</tbody>\n        </table>\n      </div>\n    );\n  }\n}\n\nfunction mapStateToProps(state) {\n  return {\n    books: state.books\n  };\n}\n\nexport default connect(mapStateToProps)(UserPosts);\n","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { Link } from \"react-router-dom\";\n\nimport {\n  getBook,\n  updateBook,\n  deleteBook,\n  clearStoreWithDeletedPost\n} from \"../../actions\";\nimport Form from \"../../widgetsUI/Form/Form\";\n\nlet formData = {\n  name: {\n    element: \"input\",\n    value: \"\",\n    label: true,\n    labelText: \"Name\",\n    config: {\n      name: \"name\",\n      placeholder: \"Enter your name\"\n    },\n    validation: {\n      required: true,\n      type: \"name\",\n      regexTemplate: \"a\"\n    },\n    valid: false,\n    validationMessage: \"\"\n  },\n  authors: {\n    element: \"input\",\n    value: \"\",\n    label: true,\n    labelText: \"Authors\",\n    config: {\n      name: \"authors\",\n      placeholder: \"Enter authors\"\n    },\n    validation: {\n      required: true,\n      type: \"name\",\n      regexTemplate: \"a\"\n    },\n    valid: false,\n    validationMessage: \"Authors field is not correct\"\n  },\n  rating: {\n    element: \"input\",\n    value: \"\",\n    label: true,\n    labelText: \"Rating\",\n    config: {\n      name: \"rating\",\n      placeholder: \"Rate this book by number\"\n    },\n    validation: {\n      required: true,\n      type: \"number\",\n      regexTemplate: \"a\"\n    },\n    valid: false,\n    validationMessage: \"Must be a number\"\n  },\n  price: {\n    element: \"input\",\n    value: \"\",\n    label: true,\n    labelText: \"Price\",\n    config: {\n      name: \"price\",\n      placeholder: \"Enter the price of book\"\n    },\n    validation: {\n      required: true,\n      type: \"number\",\n      regexTemplate: \"\"\n    },\n    valid: false,\n    validationMessage: \"Must be a number\"\n  },\n  pages: {\n    element: \"input\",\n    value: \"\",\n    label: true,\n    labelText: \"Books pages\",\n    config: {\n      name: \"pages\",\n      placeholder: \"Enter number of pages\"\n    },\n    validation: {\n      required: true,\n      type: \"number\",\n      regexTemplate: \"a\"\n    },\n    valid: false,\n    validationMessage: \"Must be a number\"\n  },\n  reviews: {\n    element: \"textArea\",\n    value: \"\",\n    label: true,\n    labelText: \"Review\",\n    config: {\n      name: \"reviews\",\n      cols: 10,\n      rows: 4,\n      placeholder: \"Enter review for this book\"\n    },\n    validation: {\n      required: true,\n      type: \"text\",\n      regexTemplate: /[a-z]{3}/\n    },\n    valid: false,\n    validationMessage: \"Review is not correct\"\n  }\n};\n\nconst buttonConfig = {\n  text: \"Edit review\",\n  attr: {\n    className: \"button\",\n    type: \"submit\"\n  }\n};\nclass EditBook extends Component {\n  constructor(props) {\n    super(props);\n    this.props.dispatch(getBook(this.props.match.params.id));\n\n    this.state = {\n      formDataWithValues: {},\n      isData: false\n    };\n  }\n\n  componentDidUpdate() {\n    if (!Object.keys(this.state.formDataWithValues).length) {\n      this.transformBookToForm(this.props.books.book);\n    }\n  }\n\n  transformBookToForm = book => {\n    if (book) {\n      let formDataWithValues = formData;\n      for (let field in book) {\n        const value = book[field];\n\n        if (formData[field]) {\n          formDataWithValues[field].value = value;\n        }\n      }\n      this.setState({\n        formDataWithValues\n      });\n    }\n  };\n\n  deleteReview = () => {\n    const id = this.props.books.book._id;\n    this.props.dispatch(deleteBook(id));\n  };\n\n  componentWillUnmount() {\n    this.props.dispatch(clearStoreWithDeletedPost());\n  }\n\n  redirectUser = () => {\n    setTimeout(() => {\n      this.props.history.push(\"/user/user-reviews\");\n    }, 1000);\n  };\n\n  submitFormFunction = data => {\n    const _id = this.props.books.book._id;\n    this.props.dispatch(updateBook({ _id, ...data }));\n  };\n\n  render() {\n    const books = this.props.books;\n    return (\n      <div className=\"rl_container article\" style={{ marginBottom: \"40px\" }}>\n        {books.updatedBook ? (\n          <div className=\"edit_confirm\">\n            post updated,{\" \"}\n            <Link to={`/books/${books.book._id}`}>\n              click here to see updated post{\" \"}\n            </Link>\n          </div>\n        ) : null}\n\n        {books.postDeleted ? (\n          <div className=\"red_tag\">Post deleted {this.redirectUser()}</div>\n        ) : null}\n\n        <Form\n          formCaption={<h2>Edit review</h2>}\n          formData={\n            Object.keys(this.state.formDataWithValues).length\n              ? this.state.formDataWithValues\n              : formData\n          }\n          submitButtonConfig={buttonConfig}\n          submitFormFunction={data => this.submitFormFunction(data)}\n        />\n        <div\n          className=\"delete_post\"\n          style={{ width: \"65%\", margin: \"20px auto\" }}\n          onClick={this.deleteReview}\n        >\n          <div className=\"button\">Delete Review</div>\n        </div>\n      </div>\n    );\n  }\n}\n\nfunction mapStateToProps(state) {\n  return {\n    books: state.books\n  };\n}\n\nexport default connect(mapStateToProps)(EditBook);\n","import React, { Component } from \"react\";\nimport Form from \"../../widgetsUI/Form/Form\";\nimport { connect } from \"react-redux\";\n\nimport { registerUser, loginUser } from \"../../actions\";\n\nconst formData = {\n  name: {\n    element: \"input\",\n    value: \"\",\n    label: true,\n    labelText: \"Name\",\n    config: {\n      name: \"name\",\n      placeholder: \"Enter your name\"\n    },\n    validation: {\n      required: true,\n      type: \"name\",\n      regexTemplate: \"a\"\n    },\n    valid: false,\n    validationMessage: \"\"\n  },\n  lastname: {\n    element: \"input\",\n    value: \"\",\n    label: true,\n    labelText: \"Lastname\",\n    config: {\n      name: \"lastname\",\n      placeholder: \"Enter lastname\"\n    },\n    validation: {\n      required: true,\n      type: \"text\",\n      regexTemplate: \"a\"\n    },\n    valid: false,\n    validationMessage: \"Lastname field is not correct\"\n  },\n  email: {\n    element: \"input\",\n    value: \"\",\n    label: true,\n    labelText: \"Email\",\n    config: {\n      name: \"email\",\n      placeholder: \"Enter your email\"\n    },\n    validation: {\n      required: true,\n      type: \"email\",\n      regexTemplate: \"a\"\n    },\n    valid: false,\n    validationMessage: \"Must be an email\"\n  },\n  password: {\n    element: \"input\",\n    value: \"\",\n    label: true,\n    labelText: \"Password\",\n    config: {\n      name: \"password\",\n      placeholder: \"Enter your password\",\n      type: \"password\"\n    },\n    validation: {\n      required: true,\n      type: \"password\",\n      regexTemplate: /[a-z]{3}/\n    },\n    valid: false,\n    validationMessage: \"Must be a password\"\n  }\n};\n\nconst buttonConfig = {\n  text: \"submit\",\n  attr: {\n    className: \"button\",\n    type: \"Add review\"\n  }\n};\n\nclass Registration extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      users: \"\",\n      email: \"\",\n      password: \"\"\n    };\n  }\n\n  componentDidUpdate() {\n    const { email, password } = this.state;\n    if (this.props.user.register && !this.props.submitForm) {\n      this.props.dispatch(loginUser({ email, password }));\n    }\n  }\n  submitFormFunction = data => {\n    const { email, password } = data;\n    if (this.props.submitForm) {\n      this.props.submitForm(data);\n    } else {\n      this.props.dispatch(registerUser(data));\n      this.setState({\n        email,\n        password\n      });\n    }\n  };\n\n  render() {\n    console.log(this.props);\n    return (\n      <div className=\"rl_container\">\n        <Form\n          formCaption={<h2>Add a user</h2>}\n          formData={formData}\n          submitButtonConfig={buttonConfig}\n          submitFormFunction={data => this.submitFormFunction(data)}\n        />\n      </div>\n    );\n  }\n}\n\nfunction mapStateToProps(state) {\n  return {\n    user: state.user\n  };\n}\n\nexport default connect(mapStateToProps)(Registration);\n","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { getAllUsers, registerUser, deleteUser } from \"../../actions\";\nimport FontAwesome from \"react-fontawesome\";\nimport Registration from \"../Admin/registration\";\n\nclass AddNewUser extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      users: \"\"\n    };\n    this.props.dispatch(getAllUsers());\n  }\n\n  static getDerivedStateFromProps(nextProps, prevState) {\n    const propsUsers = nextProps.user.users;\n    if (nextProps.user.login.isAuth && propsUsers !== prevState.users) {\n      return { users: propsUsers };\n    } else return null;\n  }\n\n  tableOfUsersRender = () => {\n    let template;\n    if (this.state.users && this.state.users !== {}) {\n      template = (\n        <div className=\"current_users\" style={{ marginBottom: \"100px\" }}>\n          <h4>Current users</h4>\n          <table>\n            <thead>\n              <tr>\n                <th>Name</th>\n                <th>Lastname</th>\n                <th>Email</th>\n                <th>Actions</th>\n              </tr>\n            </thead>\n            <tbody>\n              {this.state.users.map(item => {\n                return (\n                  <tr key={item._id}>\n                    <td>{item.name}</td>\n                    <td>{item.lastname}</td>\n                    <td>{item.email}</td>\n                    <td>\n                      <div\n                        className=\"button\"\n                        style={{\n                          cursor: \"pointer\",\n                          textAlign: \"center\",\n                          marginLeft: \"20px\"\n                        }}\n                        onClick={() => this.userDelete(item._id)}\n                      >\n                        <FontAwesome name=\"remove\" />\n                      </div>\n                    </td>\n                  </tr>\n                );\n              })}\n            </tbody>\n          </table>\n        </div>\n      );\n    } else template = null;\n\n    return template;\n  };\n\n  userDelete = userId => {\n    this.props.dispatch(deleteUser(userId));\n    this.props.dispatch(getAllUsers());\n  };\n\n  registerStatusCheck = () => {\n    let template;\n    if (this.props.user.register !== undefined) {\n      if (this.props.user.register) {\n        template = (\n          <div className=\"form__success\">Successufully registered</div>\n        );\n      } else {\n        template = (\n          <div className=\"form__error\">Error: Email is already exist</div>\n        );\n      }\n      return template;\n    } else return null;\n  };\n\n  submitFormFunction = data => {\n    this.props.dispatch(registerUser(data, this.props.user.users));\n    if (this.state.users) {\n      this.setState({\n        users: \"\"\n      });\n    }\n  };\n\n  render() {\n    return (\n      <div className=\"rl_container\">\n        <Registration submitForm={data => this.submitFormFunction(data)} />\n        {this.registerStatusCheck()}\n        {this.tableOfUsersRender()}\n      </div>\n    );\n  }\n}\n\nfunction mapStateToProps(state) {\n  return {\n    user: state.user\n  };\n}\n\nexport default connect(mapStateToProps)(AddNewUser);\n","import React from \"react\";\nimport { Switch, Route } from \"react-router-dom\";\n\n// COMPONENTS\nimport Layout from \"./hoc/Layout/layout\";\nimport Home from \"./components/Home/home\";\nimport BookView from \"./components/Books/index\";\nimport Login from \"./containers/Admin/login\";\nimport Logout from \"./containers/Admin/logout.js\";\nimport Auth from \"./hoc/auth\";\nimport User from \"./components/Admin\";\nimport AddBook from \"./containers/Admin/addBook\";\nimport UserPosts from \"./components/Admin/userPosts\";\nimport EditBook from \"./containers/Admin/editBook\";\nimport AddNewUser from \"./containers/Admin/addNewUser\";\nimport Registration from \"./containers/Admin/registration\";\n\nconst Routes = () => {\n  return (\n    <Layout>\n      <Switch>\n        <Route path=\"/\" exact component={Auth(Home, null)} />\n        <Route path=\"/books/:id\" exact component={Auth(BookView)} />\n        <Route path=\"/login\" exact component={Auth(Login, false)} />\n        <Route path=\"/user\" exact component={Auth(User, true)} />\n        <Route path=\"/user/logout\" exact component={Logout} />\n        <Route path=\"/user/add\" exact component={Auth(AddBook, true)} />\n        <Route\n          path=\"/user/user-reviews\"\n          exact\n          component={Auth(UserPosts, true)}\n        />\n        <Route\n          path=\"/user/edit-post/:id\"\n          exact\n          component={Auth(EditBook, true)}\n        />\n        <Route path=\"/user/register\" exact component={Auth(AddNewUser, true)} />\n        <Route\n          path=\"/registration\"\n          exact\n          component={Auth(Registration, false)}\n        />\n      </Switch>\n    </Layout>\n  );\n};\n\nexport default Routes;\n","import { combineReducers } from 'redux';\n\nimport books from './book_reducer';\nimport user from './user_reducers';\n\nconst rootReducer = combineReducers({\n    books,\n    user\n});\n\nexport default rootReducer;","export default function(state = {}, action) {\n  switch (action.type) {\n    case \"GET_BOOK\":\n      return { ...state, book: action.payload };\n    case \"GET_BOOKS\":\n      return { ...state, list: action.payload };\n    case \"GET_BOOK_WITH_REVIEWER\":\n      return {\n        ...state,\n        book: action.payload.book,\n        reviewer: action.payload.reviewer\n      };\n    case \"CLEAR_BOOK_W_R\":\n      return {\n        ...state,\n        book: action.payload.book,\n        reviewer: action.payload.reviewer\n      };\n    case \"CREATE_N_BOOK\":\n      return {\n        ...state,\n        newbook: action.payload\n      };\n    case \"REMOVE_N_BOOK_FROM_PROPS\":\n      return {\n        ...state,\n        newbook: action.payload\n      };\n    case \"USER_BOOKS\":\n      return {\n        ...state,\n        books: action.payload\n      };\n    case \"UPDATE_BOOK\":\n      return {\n        ...state,\n        updatedBook: action.payload\n      };\n    case \"DELETE_BOOK\":\n      return {\n        ...state,\n        postDeleted: action.payload\n      };\n    case \"CLEAR_STORE_WITH_DELETED_POST\":\n      return {\n        ...state,\n        postDeleted: action.payload.postDeleted,\n        updatedBook: action.payload.updatedBook,\n        book: action.payload.books\n      };\n    default:\n      return state;\n  }\n}\n","export default function(state = {}, action) {\n  switch (action.type) {\n    case \"USER_LOGIN\":\n      return { ...state, login: action.payload };\n    case \"USER_AUTH\":\n      return { ...state, login: action.payload };\n    case \"USER_LOGOUT\":\n      return { ...state, login: action.payload };\n    case \"GET_ALL_USERS\":\n      return { ...state, users: action.payload };\n    case \"ADD_NEW_USER\":\n      return {\n        ...state,\n        register: action.payload.success,\n        users: action.payload.users\n      };\n    case \"USER_REGISTER\":\n      return {\n        ...state,\n        register: action.payload.success\n      };\n    case \"USER_DELETE\":\n      return {\n        ...state,\n        deleted: action.payload\n      };\n    default:\n      return state;\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport {BrowserRouter} from 'react-router-dom';\nimport {Provider} from 'react-redux';\nimport { createStore, applyMiddleware } from 'redux';\nimport promiseMiddleware from 'redux-promise';\nimport ReduxThunk from 'redux-thunk';\n\n// COMPONENTS\nimport Routes from './routes';\nimport Reducers from './reducers'\n\nconst createrStoreWithMiddleware = applyMiddleware(promiseMiddleware, ReduxThunk)(createStore);\n\nReactDOM.render(\n    <Provider store={createrStoreWithMiddleware(Reducers)}>\n        <BrowserRouter>\n            <Routes/>\n        </BrowserRouter>\n    </Provider>\n    ,document.getElementById('root')\n)\n\n\n"],"sourceRoot":""}